@using ServiceReportingSystem.Models
@{
    ViewBag.Title = "Account";
    Layout = "~/Views/Shared/_Layout_new_theme.cshtml";
}

<div id="modal" class="modal animation-fadeIn" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="width: 50%">
        <div class="modal-content">
            @*<div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Terms &amp; Conditions</h4>
                </div>*@
            <div class="modal-body">
                @if (Session["User"] == null)
                {
                    @Html.Action("Login", "UserAccount")
                }
                else
                {
                    @*<div id="issueForm">
                            @Html.Action("Create", "ModelReports")
                        </div>*@

                }

            </div>
        </div>
    </div>
</div>
@{
    ModelUser user = (ModelUser)Session["User"];
    <div class="row gutter30">
        <div class="col-md-3 br-dark">
            <div class="panel panel-primary panel-border top mb30" id="p1">
                <div class="panel-heading" style="height: auto;">
                    <span class="panel-title">


                        <span>
                            @Html.Raw(user.UserName).ToHtmlString()

                        </span>


                    </span>
                </div>
                <div class="panel-body bg-light dark pn">
                    <div id="tree">
                        <ul id="treeData" style="display: none;" class="ui-fancytree-source ui-helper-hidden">
                            <li class="folder " id="40000">
                                <a href="~/UserAccount/Account"><i class="glyphicon glyphicon-home"></i><span> Home</span></a>
                            </li>
                            @if (user.Type == "fac" || user.Type == "ad@min")

                            {
                                <li class="folder" id="1">
                                    <a href="#"><i class="glyphicon glyphicon-book"></i><span> Category Management</span></a>
                                    <ul>
                                        <li class="folder expanded" id="1">
                                            <a href="~/_SubjectArea/Create"><i class="glyphicon glyphicon-book"></i><span> Create New Category</span></a>
                                        </li>
                                        <li class="folder expanded" id="2">
                                            <a href="~/_SubjectArea/Index"><i class="glyphicon glyphicon-book"></i><span> Edit Categories</span></a>
                                        </li>

                                    </ul>
                                </li>
                                if (user.Type == "ad@min")
                                {


                                    <li class="folder" id="2">
                                        <a href="#"><i class="glyphicon glyphicon-book"></i><span> Edition Management</span></a>
                                        <ul>
                                            <li class="folder expanded" id="1">
                                                <a href="~/edition/Create"><i class="glyphicon glyphicon-book"></i><span> Create New Edition</span></a>
                                            </li>
                                            <li class="folder expanded" id="2">
                                                <a href="~/edition/Index"><i class="glyphicon glyphicon-book"></i><span> Edit Edition</span></a>
                                            </li>

                                        </ul>
                                    </li>
                                    <li class="folder" id="3">
                                        <a href="#"><i class="glyphicon glyphicon-book"></i><span> File Management</span></a>
                                        <ul>
                                            <li class="folder expanded" id="1">
                                                <a href="~/File/Index" target="_blank"><i class="glyphicon glyphicon-file"></i><span> Cover File Manager</span></a>
                                            </li>
                                            <li class="folder expanded" id="2">
                                                <a href="~/File/BookFileManager" target="_blank"><i class="glyphicon glyphicon-book"></i><span> Book File Manager</span></a>
                                            </li>

                                        </ul>
                                    </li>
                                }


                                <li class="folder" id="2">
                                    <a href="#"><i class="glyphicon glyphicon-book"></i><span> Book Management </span></a>
                                    <ul>
                                        <li class="folder expanded" id="1">
                                            <a href="~/_ebook/Create"><i class="glyphicon glyphicon-list"></i><span> Upload New Book</span></a>

                                        </li>
                                        <li class="folder expanded" id="2">
                                            <a href="~/_ebook/bookList"><i class="glyphicon glyphicons-user_add"></i><span> Book List</span></a>

                                        </li>

                                    </ul>
                                </li>
                                if (user.Type == "ad@min")
                                {
                                    <li class="folder" id="3">
                                        <a href="#"><i class="glyphicon glyphicon-book"></i><span> User Management</span></a>
                                        <ul>
                                            <li class="folder" id="1">
                                                <a href="#"><i class="glyphicon glyphicon-book"></i><span> Enrollment</span></a>
                                                <ul>
                                                    <li class="folder" id="1">
                                                        <a href="~/Fac/Create"><i class="glyphicon glyphicons-user_add"></i><span> Faculty Enrollment </span></a>
                                                    </li>
                                                    <li class="folder" id="2">
                                                        <a href="~/Std/RegStudent"><i class="glyphicon glyphicon-user"></i><span> Student Enrollment </span></a>
                                                    </li>

                                                </ul>
                                            </li>
                                            <li class="folder" id="4">
                                                <a href="#"><i class="glyphicon glyphicon-book"></i><span> User Directory</span></a>
                                                <ul>
                                                    <li class="folder" id="1">
                                                        <a href="~/Fac/Index"><i class="glyphicon glyphicon-book"></i><span>  Faculty (All faculty members) </span></a>
                                                    </li>
                                                    <li class="folder" id="2">
                                                        <a href="#"><i class="glyphicon glyphicon-book"></i><span> Student (All students) </span></a>
                                                        <ul>
                                                            <li class="folder" id="1">
                                                                <a href="~/Std/Index"><i class="glyphicon glyphicon-book"></i><span>  All Student List </span></a>
                                                            </li>
                                                            <li class="folder" id="1">
                                                                <a href="#"><i class="glyphicon glyphicon-book"></i><span> SoB </span></a>
                                                            </li>
                                                            <li class="folder" id="1">
                                                                <a href="#"><i class="glyphicon glyphicon-book"></i><span> SoE </span></a>
                                                            </li>
                                                            <li class="folder" id="1">
                                                                <a href="#"><i class="glyphicon glyphicon-book"></i><span> SoLA </span></a>
                                                            </li>
                                                        </ul>
                                                    </li>

                                                </ul>
                                            </li>


                                        </ul>
                                    </li>




                                }



                            }
                            @if (user.Type == "std")
                            {
                                <li class="folder " id="50000">
                                    <a href="~/Reset/StdChangePassword"><i class="glyphicon glyphicon-user"></i><span> Change Password</span></a>
                                </li>
                            }


                        </ul>
                    </div>
                </div>
            </div>

        </div>
        <div id="bodyContent">
            @RenderBody()
        </div>
    </div>
}
@section scripts{

    <script src="~/Scripts/angular.min.js"></script>

    <script src="~/Scripts/jquery.unobtrusive-ajax.js"></script>

    <script>

        angular.module('myapp', []).controller('listcontroll', function ($scope, $http) {

            $scope.results = [];
            $http.get("/UserAccount/ServiceAction")
                .then(function (response) {
                    $scope.results = response.data;

                });

            $scope.ModelShow = function (serviceName, id) {
                $('#message').empty(); $('#DescriptionReport').val(''); $('#LocationId').val(''); $('#ServiceName').val(serviceName); $('#ServiceId').val(id); $('#modal').modal('show');
            }
        });
        $('#LocationId').select2({
            width: '100%'
        });
        function dynamicPageLoad(href, content) {
            try {

                $.ajax({
                    cache: false,
                    type: "GET",
                    url: href,
                    success: function (result) {

                        $(content).empty();
                        $(content).append(result);
                    },
                    complete: function (jqXHR, textStatus) {


                    }
                });
            } catch (error) {
                alert(error);

            }
        }
                                        //$('#box').keyup(function () {
                                        //    var valThis = $(this).val().toLowerCase();
                                        //    if (valThis == "") {
                                        //        $('#list > div > div > button ').each(function () {
                                        //            $(this).parent().parent().show();
                                        //        });
                                        //    } else {
                                        //        $('#list > div > div > button ').each(function () {
                                        //            var text = $(this).text().toLowerCase();
                                        //            (text.indexOf(valThis) >= 0) ? $(this).parent().parent().show() : $(this).parent().parent().hide();
                                        //        });
                                        //    };
                                        //});

    </script>
}
